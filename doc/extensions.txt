JCX = JCreole Extensions.  Implemented as Creole <<...>> plugin/extensions.


Creole authors use extensions (aka plugins) by coding <<...>> elements in their Creole text.  

This file does not document all JCreole features beyond those of Crole 1.0.
It only documents those that are controlled with the Extension/Plugin mechamnism
of <<X>> directives.
See the file "additions.txt" for JCreole features that do not depend on Plugin
directives.

I call the individual <<X>> commands that are available "Plugin Directives".
(I don't call them "elements" in order to eliminate ambiguity because of the resemblance to XML Elements).


DESIGN

    JCreole's syntax is normally <<directiveName>> (notice camelBack) or
    <<directiveName options...>>, with exceptions for the following exceptional
    elements:
        <<~...>>  <<{>>  <<}>>  <<#... >>  <<!... >>
    The justification is that <<{>> and <<}>> need to block code, in paris, and
    that purpose will be easier to recognize without other distracting text;
    The purpose of the other exceptions here is to defeat markup parsing.

    Some (or possibly all) extensions are enabled/disabled at the Scanner
    instance level.  This can be used, for example, to prevent "comment"
    authors from altering style, or to only allow authorized users to pass
    through HTML directly.

    Still under consideration, but though I "could" allow for setting element
    IDs and HTML tag attributes, I think that purposefully not supporting
    operations targeted to single HTML elements will encourage general and
    re-usable layout management.
    
    As things are currently implemented, the user is forced to assign CSS
    classes.  If the user intends to use the class for just one element-- no
    harm done and it will work-- but the user may just find it useful that they
    can re-use that same class elsewhere in the page.  The <<@ element further
    encourages generalization further to use custom class names across
    multiple pages and even multiple web sites.


Misc.
-----

Ids are automatically created for each heading.  (They can, of course, be
used externally and within the page like [#autoId] or [#autoId|label]).
A map is stored internally so that the default label for "[@autoId]" is the
text in that label (scraped of markup).


Plugin Directives by category
-----------------------------

In every case, white space (including newlines) is permitted between the opening
"<<" and the first non-whitespace character.

RAW HTML

    <<~...>> Direct HTML content.

    Justification of ~ character:  In Creole, ~ generally means "escape Wiki
    markup formatting".

    Even Nowiki does not let you enter HTML into a web page, because of the
    real danger of either unintentionally or intentionally invoking dynamic
    content, breaking HTML DOM structure, etc.  For example, if double-quotes
    are not escaped, there are many different ways that you could accidentally
    unbalance the quotes, easily effecting otherwise unrelated JavaScript (and
    depending on server-side technology integration, even server-side
    scripting).

    BEWARE that inside of <<~...>>, you are responsible for the consquences of
    missing the very strict requirements of CSS, HTML, JavaScript, or whatever
    you code in there.


CREATE ELEMENTS

    <<{>>  Open a new JCX SPAN element with '<span class="jcx">'.
    <<}>>  Close the previously opened SPAN with '</span>.

    You should obviously always pair <<(>>...<<)>> and <<{>>...<<}>>.


STYLERS:  ASSIGN A CSS CLASS TO A HTML ELEMENT

    <<addClass =block className>>
        Add CSS class to the immediate containing non-JCX block element.
    <<addClass =inline className>>
        Add CSS class to the immediate containing non-JCX inline element.
    <<addClass =jcx className>>
        Add CSS class to the immediate containing JCX SPAN element.

    Same as above, but with "-" instead of "=".  Target the preceding closed
    element instead of the immediate containing element:

    <<addClass -block className>>
        Add CSS class to the immediate containing non-JCX block element.
    <<addClass -inline className>>
        Add CSS class to the immediate containing non-JCX inline element.
    <<addClass -jcx className>>
        Add CSS class to the immediate containing JCX SPAN element.

    Same as above, but with "+".  Target the next
    element instead of the immediate containing element:

    <<addClass +block className>>
        Add CSS class to the immediate containing non-JCX block element.
    <<addClass +inline className>>
        Add CSS class to the immediate containing non-JCX inline element.
    <<addClass +jcx className>>
        Add CSS class to the immediate containing JCX SPAN element.

    Note that "<<... -..." means the last previous element CLOSED, not the last
    element opened.  So, with nested "em" and "strong" elements, if we have
        //emphasized **strong** closing// <<addClass -inline aName>>
    the name applies to the last inline CLOSED, which here is <em> for the //.


DEFINE CSS STYLES

    (Deferred until HTML 5:
        <<$ style line definitions...  >>  The aggregate of all <<$...>> element
        contents will be inserted inside one
            <style type="text/css" scoped="scoped">...</style>
        element (preserving sequence) before the generated HTML content.)

    <<styleSheet CSS/file.path  >>  A CSS file link will be added to the HTML
    page header.  If multiple <<styleSheet...>> directives are given, then
    multiple links will be added, matching the sequence of the directives.
    Each link tag will be of the form
        <link rel="stylesheet" type="text/css" href="..." />
    Note that the integrator must call the method
     CreoleParser.getHeaderInsertion() to get the HTML that should be inserted
     into the HTML page's head.  If you use JCreole.generateHtmlPage, then
     you just need to have the string "${headers}" in the head of the
     boilerplate.

    CONSIDER  Allowing CSS style coding directly in a <<?...>> tag, which we
    would insert into a <link> element in the page head.
    I am thinking that it would encourage consistency more to force the user to
    upload a separate .css file and just reference that.


COMMENTS

    <<# author comments... >>
    Your comment text may not include the string ">>".
    These contents will be entirely stripped.  I.e. they will not be visible as
    HTML comments, or in any other way, in the generated HTML.

    <<! HTML comments... >>
    Your comment text may not include the strings "--" or ">>".
    These will not be visible as HTML comments in the generated HTML.


Coming Soon!  TOC

    <<toc>>
    (The character "^" is tentative.  Accepting suggestions.).
    Insert a little TOC table or list, with hyperlinks to all headings.


Coming Maybe.  UNDER CONSIDERATION

    <<:IntraWikiLink>>
    Because plain IntraWikiLink is too susceptible to false positives.
    Maybe better is just to interpret link destinations beginning with ":"
    as intra-wiki links.  Sounds good to me...
